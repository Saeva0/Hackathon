<Window x:Class="Hackathon.Sorular"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Hackathon"
        mc:Ignorable="d"
        Title="Test Ekranı" 
        WindowStartupLocation="CenterScreen"
        Closing="Window_Closing"
        WindowStyle="None" 
        WindowState="Maximized"
        AllowsTransparency="True" 
        Background="Transparent"
        Icon="/Images/logo_icon.png">


<Window.Resources>
        <!-- Ana Buton Stili (İpucu, Cevabı Göster vb. için) -->
        <Style x:Key="MainActionButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#3B45DE"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Height" Value="40"/>
            <Setter Property="Padding" Value="20,0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}" CornerRadius="20">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#505BFF"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#1F2AB4"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Cevap Şıkkı Butonları İçin Özel Stil -->
        <Style x:Key="AnswerOptionStyle" TargetType="Button">
            <Setter Property="Background" Value="#20FFFFFF"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="MinHeight" Value="50"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="Padding" Value="20,5"/>
            <Setter Property="Margin" Value="0,5"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}" CornerRadius="12" BorderBrush="Transparent" BorderThickness="3" Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Left" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#40FFFFFF"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="border" Property="Opacity" Value="0.7"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <!-- Ana Konteyner -->
    <Border CornerRadius="10" BorderBrush="#80FFFFFF" BorderThickness="1" MouseDown="TitleBar_MouseDown">
        <Border.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="#1e3c72" Offset="0"/>
                <GradientStop Color="#1c1c2b" Offset="1"/>
            </LinearGradientBrush>
        </Border.Background>

        
        <Grid>
            <!-- Ana Test İçeriği -->
            <ScrollViewer x:Name="MainScrollViewer" VerticalScrollBarVisibility="Auto" Margin="0,32,0,70">
                <StackPanel x:Name="QuestionPanel" Margin="40">
                    <DockPanel Margin="0,0,0,20" HorizontalAlignment="Stretch">
                        <Button x:Name="btnIpucu" Content="İpucu İste" Click="btnIpucu_Click" Style="{StaticResource MainActionButtonStyle}" Width="140" DockPanel.Dock="Right" />
                        <TextBlock x:Name="txtSoruNumarasi" Text="Soru 1 / 10" FontSize="24" FontWeight="Bold" Foreground="White" VerticalAlignment="Center"/>
                    </DockPanel>

                    <TextBox x:Name="txtIpucu" Visibility="Collapsed" IsReadOnly="True" TextWrapping="Wrap" Margin="0,0,0,15" Background="#20FFFFFF" Foreground="White" Padding="10" BorderThickness="0"/>
                    <TextBlock x:Name="txtSoruMetni" Text="Soru metni buraya yüklenecek..." FontSize="20" Foreground="White" TextWrapping="Wrap" Margin="0,0,0,25" MinHeight="80"/>

                    <!-- Doğru / Yanlış Button -->
                    <StackPanel x:Name="TrueFalsePanel" Visibility="Collapsed" 
            Orientation="Horizontal" HorizontalAlignment="Center" 
            Margin="0,40,0,0">
                        <Button x:Name="btnDogru" 
                Content="Doğru" 
                Tag="Doğru"
                Click="TrueFalse_Click"
                Style="{StaticResource MainActionButtonStyle}"
                Background="#27ae60"
                Width="150" Height="60"
                FontSize="20"/>
                        <Button x:Name="btnYanlis" 
            Content="Yanlış" 
            Tag="Yanlış"
            Click="TrueFalse_Click"
            Style="{StaticResource MainActionButtonStyle}"
            Background="#c0392b"
            Width="150" Height="60"
            FontSize="20"
            Margin="20,0,0,0"/>
                    </StackPanel>


                    <Grid>
                        <!-- Çoktan Seçmeli Paneli (Artık kendi stilini kullanmıyor) -->
                        <StackPanel x:Name="MultipleChoicePanel" Visibility="Collapsed">
                            <Button x:Name="btnSikA" Tag="A" Click="AnswerButton_Click" Style="{StaticResource AnswerOptionStyle}" />
                            <Button x:Name="btnSikB" Tag="B" Click="AnswerButton_Click" Style="{StaticResource AnswerOptionStyle}" />
                            <Button x:Name="btnSikC" Tag="C" Click="AnswerButton_Click" Style="{StaticResource AnswerOptionStyle}" />
                            <Button x:Name="btnSikD" Tag="D" Click="AnswerButton_Click" Style="{StaticResource AnswerOptionStyle}" />
                            <Button x:Name="btnSikE" Tag="E" Click="AnswerButton_Click" Style="{StaticResource AnswerOptionStyle}" />
                            
                        </StackPanel>

                        
                        <!-- Açık Uçlu Paneli -->
                        <StackPanel x:Name="OpenEndedPanel" Visibility="Collapsed">
                            <TextBlock Text="Cevabınızı aşağıdaki alana yazınız:" Foreground="#A0FFFFFF" Margin="0,0,0,10"/>
                            <TextBox x:Name="txtOpenEndedAnswer" Height="120" TextWrapping="Wrap" AcceptsReturn="True" VerticalScrollBarVisibility="Auto" FontSize="16" Padding="10"/>
                            <Border x:Name="CorrectAnswerPanel" Background="#19FFFFFF" CornerRadius="8" Padding="10" Margin="0,15,0,0" Visibility="Collapsed">
                                <StackPanel>
                                    <TextBlock Text="Beklenen Cevap:" FontSize="14" FontWeight="Bold" Foreground="#77FF77" Margin="0,0,0,5"/>
                                    <TextBlock x:Name="txtCorrectAnswer" Text="Doğru cevap buraya yüklenecek..." Foreground="White" FontSize="15" TextWrapping="Wrap"/>
                                    
                                </StackPanel>
                                
                            </Border>
                            <StackPanel x:Name="EvaluationPanel" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0" Visibility="Collapsed">
                                <Button x:Name="btnIncorrect" Content="Cevabım Yanlış" Tag="Yanlis" Click="EvaluationButton_Click" Style="{StaticResource MainActionButtonStyle}" Background="#B33A3A" Width="150" Margin="0,0,10,0"/>
                                <Button x:Name="btnCorrect" Content="Cevabım Doğru" Tag="Dogru" Click="EvaluationButton_Click" Style="{StaticResource MainActionButtonStyle}" Background="#2C942C" Width="150"/>
                            </StackPanel>
                            
                            
                            
                            <Button x:Name="btnShowAnswer" Content="Cevabı Göster ve Değerlendir" Click="btnShowAnswer_Click" HorizontalAlignment="Right" Margin="0,15,0,0" Width="250" Style="{StaticResource MainActionButtonStyle}"/>
                        </StackPanel>

                        <!-- Boşluk Doldurma Paneli -->
                        <StackPanel x:Name="FillInTheBlankPanel" Visibility="Collapsed">
                            <Border x:Name="FillInTheBlankContainer" Background="#20FFFFFF" BorderThickness="0" CornerRadius="8" Padding="15" MinHeight="60">
                                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                    <TextBlock x:Name="txtFillBlankPart1" Text="" Foreground="White" FontSize="18" VerticalAlignment="Center" TextWrapping="Wrap"/>
                                    <TextBox x:Name="txtFillBlankAnswer" Width="150" FontSize="16" VerticalAlignment="Center" Margin="10,0" HorizontalContentAlignment="Center"/>
                                    <TextBlock x:Name="txtFillBlankPart2" Text="" Foreground="White" FontSize="18" VerticalAlignment="Center" TextWrapping="Wrap"/>
                                </StackPanel>
                            </Border>
                            <Button x:Name="btnCheckFillBlank" Content="Cevabı Kontrol Et" Click="CheckAnswerButton_Click" HorizontalAlignment="Right" Margin="0,15,0,0" MinWidth="100" Style="{StaticResource MainActionButtonStyle}" Width="150"/>
                        </StackPanel>
                        
                        
                    </Grid>
                </StackPanel>
            </ScrollViewer>

            <!-- Skor Ekranı (Overlay) -->
            <Grid x:Name="ScoreScreen" Visibility="Collapsed" Background="#D01c1c2b" Panel.ZIndex="98">
               
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    
                    <RowDefinition Height="Auto"/>
                
                    <RowDefinition Height="Auto"/>
                  
                    <RowDefinition Height="Auto"/>

                    <RowDefinition Height="*"/>
                    <!-- Alttaki boşluk -->
                </Grid.RowDefinitions>

                <!-- 1. Başlık Alanı -->
                <StackPanel Grid.Row="1" HorizontalAlignment="Center">
                    <TextBlock Text="Test Bitti!" FontSize="48" FontWeight="Bold" Foreground="White" HorizontalAlignment="Center"/>
                    <TextBlock Text="Skorunuz" FontSize="24" Foreground="#A0FFFFFF" HorizontalAlignment="Center" Margin="0,0,0,20"/>
                </StackPanel>

                <!-- 2. Skorların Gösterildiği Alan -->
                <Border Grid.Row="2" Background="#1AFFFFFF" CornerRadius="10" Padding="40,20" Margin="0,20">
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <TextBlock Text="Doğru: " FontSize="32" Foreground="#77FF77" FontWeight="Bold" VerticalAlignment="Center"/>
                        <TextBlock x:Name="txtDogruSayisi" Text="0" FontSize="48" Foreground="White" FontWeight="Bold" VerticalAlignment="Center"/>

                        <!-- Araya dikey bir çizgi ekleyerek daha şık hale getirelim -->
                        <Rectangle Fill="#40FFFFFF" Width="1" Height="50" Margin="40,0"/>

                        <TextBlock Text="Yanlış: " FontSize="32" Foreground="#FF7777" FontWeight="Bold" VerticalAlignment="Center"/>
                        <TextBlock x:Name="txtYanlisSayisi" Text="0" FontSize="48" Foreground="White" FontWeight="Bold" VerticalAlignment="Center"/>
                    </StackPanel>
                </Border>

                <!-- 3. Butonların Olduğu Alan -->
                <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,40,0,0">

                   
                    <Button x:Name="btnTekrarCoz" 
            Content="Yanlışları Tekrar Çöz" 
            Click="TekrarCoz_Click"
            Width="220"
            Style="{StaticResource MainActionButtonStyle}"
            Background="#e67e22"
            Visibility="Collapsed"/>
                    
                    <!-- Başlangıçta gizli -->

                    <Button Content="Ana Menüye Dön" Width="200"
            Click="KapatButton_Click" Style="{StaticResource MainActionButtonStyle}"
            Margin="20,0,0,0"/>
                    <!-- Margin'i buna taşıdık -->

                    <Button x:Name="btnAnaliz" 
            Content="Detaylı Performans Analizi" 
            Width="250"
            Click="AnalizButton_Click" 
            Style="{StaticResource MainActionButtonStyle}"
            Background="#3498db"
            Margin="20,0,0,0"
            Visibility="Collapsed"/>
                </StackPanel>
            </Grid>

            <!-- Zamanlayıcı Paneli -->
            <StackPanel x:Name="TimerPanel" Orientation="Horizontal" VerticalAlignment="Bottom" HorizontalAlignment="Left" Margin="20">
                <Button x:Name="btnStartStopTimer" Content="Süreyi Başlat" Click="btnStartStopTimer_Click" Width="140" Style="{StaticResource MainActionButtonStyle}"/>
                <TextBlock x:Name="txtTimerDisplay" Text="00:00" FontSize="28" FontWeight="Bold" Foreground="White" VerticalAlignment="Center" Margin="15,0,0,0"/>
            </StackPanel>

            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
               
                <Button x:Name="btnMinimize" Click="Minimize_Click" Style="{StaticResource TitleBarButtonStyle}">
                    <Path Data="M0,8 H10" Stroke="White" StrokeThickness="1.5"/>
                </Button>
                
                <Button x:Name="btnMaximize" Click="Maximize_Click" Style="{StaticResource TitleBarButtonStyle}">
                    <Path Data="M0,0 H10 V10 H0 Z M2,2 H8 V8 H2 Z" Stroke="White" StrokeThickness="1.2"/>
                </Button>
               
                <Button x:Name="btnClose" Click="Close_Click" Style="{StaticResource TitleBarCloseButtonStyle}">
                    <Path Data="M0,0 L10,10 M0,10 L10,0" Stroke="White" StrokeThickness="1.5"/>
                </Button>
            </StackPanel>
        </Grid>
    </Border>
</Window>